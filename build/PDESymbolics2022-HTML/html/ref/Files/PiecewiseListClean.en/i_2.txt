yp = Piecewise[{{{xp1, xp2}, a > 0}, {{xp2, xp1}, a < 0}}, $Failed]