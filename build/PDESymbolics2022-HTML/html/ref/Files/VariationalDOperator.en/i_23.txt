VariationalD[
 Piecewise[{{u[x]^a/a, a > 0 }, {Log[u[x]], a == 0}, {$Failed, 
    a < 0}}, $Failed], u[x], x]