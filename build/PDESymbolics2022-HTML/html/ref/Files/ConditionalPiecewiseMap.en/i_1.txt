ConditionalPiecewiseMap[f, 
 Piecewise[{{1, x < 0}, {2, x > 3}, {$Failed, 0 <= x < 3}}, $Failed]]