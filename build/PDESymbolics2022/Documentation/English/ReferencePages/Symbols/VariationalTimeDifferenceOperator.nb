(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     54410,       1461]
NotebookOptionsPosition[     43595,       1228]
NotebookOutlinePosition[     49979,       1380]
CellTagsIndexPosition[     49893,       1375]
WindowTitle->VariationalTimeDifferenceOperator
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell["PDE SYMBOLICS2022 SYMBOL", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "1ea82361-5e1c-4c56-a23d-42307776277c"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "cf5cf15c-8707-40ca-bf9c-2c06b12dde71"],
        Background->RGBColor[0.490196, 0.576471, 0.690196],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "See Also",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "13d53ea8-59e2-41a2-b0f2-2b65036f2ee1"]
         }],ExpressionUUID->"f0bb58c6-d860-4a58-a78f-5abbbb8f69f7"],
         StripOnInput->False], {"\<\"DiscreteConservedQOperator\"\>":>
        Documentation`HelpLookup[
        "paclet:PDESymbolics2022/ref/DiscreteConservedQOperator"], \
"\<\"TimeDifferenceOperator\"\>":>Documentation`HelpLookup[
        "paclet:PDESymbolics2022/ref/TimeDifferenceOperator"], \
"\<\"ReduceModSchemeOperator\"\>":>Documentation`HelpLookup[
        "paclet:PDESymbolics2022/ref/ReduceModSchemeOperator"], \
"\<\"PartialDVarDOperator\"\>":>Documentation`HelpLookup[
        "paclet:PDESymbolics2022/ref/PartialDVarDOperator"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"SeeAlso"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "209a7872-4aea-48f6-b598-7118b93d0e69"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "c78cb33d-7dc3-469c-87a7-f49d3e1652ec"]
         }],ExpressionUUID->"9ce9fef6-2bb9-451d-9a9d-42ac86f3400c"],
         StripOnInput->False], {"\<\"PDESymbolics\"\>":>
        Documentation`HelpLookup[
        "paclet:PDESymbolics2022/guide/PDESymbolics"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"MoreAbout"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "cdb0ecad-1c63-4f2f-aed8-6e14f5ad11dd"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}}]],ExpressionUUID->
           "88e21ee0-7600-4e78-a521-32ba7d2f31e4"]
         }],ExpressionUUID->"b622d689-b409-4a99-94d1-801dbc23300a"],
         StripOnInput->
          False], {"\<\"PDESymbolics2022/ref/\
VariationalTimeDifferenceOperator\"\>":>
        None, "\<\"Copy Wolfram Documentation Center URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell["PDESymbolics2022/ref/VariationalTimeDifferenceOperator"]},
              Visible -> False]]; 
         SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; Null], 
        Delimiter, "\<\"Copy web URL\"\>":>
        Module[{DocumentationSearch`Private`nb$}, 
         DocumentationSearch`Private`nb$ = NotebookPut[
            Notebook[{
              Cell[
               BoxData[
                MakeBoxes[
                 Hyperlink[
                 "http://reference.wolfram.com/language/PDESymbolics2022/ref/\
VariationalTimeDifferenceOperator.html"], StandardForm]], "Input", 
               TextClipboardType -> "PlainText"]}, Visible -> False]]; 
         SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
         FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
         NotebookClose[DocumentationSearch`Private`nb$]; 
         Null], "\<\"Go to web URL\"\>":>FrontEndExecute[{
          NotebookLocate[{
            URL[
             StringJoin[
              If[
               TrueQ[DocumentationBuild`Make`Private`wsmlinkQ$141476], 
               "http://reference.wolfram.com/system-modeler/", 
               "http://reference.wolfram.com/language/"], 
              "PDESymbolics2022/ref/VariationalTimeDifferenceOperator", 
              ".html"]], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "635d05d1-a0fb-45c6-9dd2-7ee6f1d6304e"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "08974b91-72df-4548-b531-72fa86d58afe"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"6de7fca0-d994-4047-9ac5-cd83cab1c898"],

Cell["PDESymbolics2022`", "ContextNameCell",ExpressionUUID->"50e7beff-a45d-45d7-be7b-65338ef55374"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {Cell[TextData[{
     Cell[
     "VariationalTimeDifferenceOperator", "ObjectName",ExpressionUUID->
      "e8ec8e64-edc6-42b1-a10f-6634a0681118"],
     Cell[BoxData[
      TemplateBox[{8},
       "Spacer1"]],ExpressionUUID->"67f9b6be-bde1-446e-bf7d-7bc7796ea882"],
     Cell[BoxData[
     ""], "ObjectNameTranslation",ExpressionUUID->
      "29b0265b-be40-44f3-88cc-cb3a34f21b8c"]
    }],ExpressionUUID->"9628ae7f-1d09-449f-b432-e2b4420c2115"], 
    "\[SpanFromLeft]"}
  }]], "ObjectNameGrid",ExpressionUUID->"c9d0c4eb-a118-4110-aedd-\
210380417562"],

Cell[BoxData[GridBox[{
   {"", Cell[TextData[{
     Cell[BoxData[
      RowBox[{
       RowBox[{"VariationalTimeDifferenceOperator", "[", "variables", "]"}], 
       "[", "expression", "]"}]], "InlineFormula",
      FontFamily->"Source Sans Pro",ExpressionUUID->
      "028913a8-b517-4d9d-87b3-c72ab7906253"],
     " computes the discrete time-difference using TimeDifferenceOperator. \
Then it calculates the variational derivative and in case that a scheme is \
given reduces it again using ReduceModSchemeOperator and returns the \
resulting quantity."
    }],ExpressionUUID->"62b70a20-45bf-4321-a62a-3fd0b24bd306"]}
  }]], "Usage",
 CellID->982511436,ExpressionUUID->"45848d73-031e-4cff-a35a-7bde40e1b55b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[Cell[BoxData[
 ButtonBox[Cell[TextData[{
   Cell[BoxData[
    DynamicBox[ToBoxes[
      If[
       MatchQ[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, 
         Closed], 
        Alternatives[Open, True]], 
       Style[
        Graphics[{
          Thickness[0.18], 
          RGBColor[0.8509803921568627, 0.396078431372549, 0], 
          Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
         PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
        0.68 Inherited], 
       Rotate[
        Style[
         Graphics[{
           Thickness[0.18], 
           RGBColor[0.8509803921568627, 0.396078431372549, 0], 
           Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
          PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
         0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
     ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
    ExpressionUUID->"6cb5bc93-71fd-4299-a01b-15962709327e"],
   Cell[BoxData[
    TemplateBox[{1},
     "Spacer1"]],ExpressionUUID->"ab1977e7-61c9-4463-8f95-149c5accbe2a"],
   "Details and Options"
  }], "NotesFrameText",ExpressionUUID->"14a7f8fd-e39a-4007-bd5f-c0427ba3847a"],
  Appearance->{Automatic, None, "Normal", Automatic},
  BaseStyle->None,
  ButtonFunction:>(FrontEndExecute[{
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], All, ButtonCell], 
     FrontEndToken["OpenCloseGroup"], 
     FrontEnd`SelectionMove[
      FrontEnd`SelectedNotebook[], After, CellContents]}]& ),
  Evaluator->None,
  Method->
   "Preemptive"]],ExpressionUUID->"7fc9df2e-3b84-42ce-982e-686cd3221a43"]], \
"NotesSection",
 WholeCellGroupOpener->True,
 CellGroupingRules->{"SectionGrouping", 50},
 CacheGraphics->False,
 CellID->1898121569,ExpressionUUID->"98cdf646-3400-4c9a-8f1a-4eeb11e47f73"],

Cell["\<\
To use VariationalTimeDifferenceOperator, you first need to load the \
PDESymbolics Package using Needs[\"PDESymbolics2022`\"].\
\>", "Notes",
 CellID->1067943069,ExpressionUUID->"3b9e8390-cf81-449f-b0cb-e4b8872b4cee"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {
       TaggingRules, "Openers", "PrimaryExamplesSection"}, Open], 
      Alternatives[True, Open]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "5bdd9607-8b58-4bd7-a954-8eaa4100ff74"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"c062318f-60f1-4054-a077-701343e64fa2"],
 "Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(2)", "ExampleCount",ExpressionUUID->
  "0f4d696a-322d-4ea7-97b9-82575587a566"]
}], "PrimaryExamplesSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellTags->"PrimaryExamplesSection",
 CellID->859633998,ExpressionUUID->"cbfa3296-c622-462e-a17e-829c0e7dc1f9"],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {5., 9.}}]],ExpressionUUID->
  "f09be032-dba7-4cf1-9353-67608ec7f850"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"d83380ae-038a-4af3-93a9-8bf2c4345446"],
 "Basic Examples",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "c88cc63c-ed98-4c46-a1c4-862d559def14"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->1746111017,ExpressionUUID->"9b6a09ad-3486-4847-83b5-73ea438108c6"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<PDESymbolics2022`\>\"", "]"}]], "Code",
 CellLabel->"In[1]:=",
 CellID->1065004805,ExpressionUUID->"92841c7b-cc90-44fb-90ad-fae47383df7f"],

Cell["\<\
The result will be a list of associations, where in each association one \
finds the scheme or the used GroebnerBasis (see ReduceModSchemeOperator for \
more information) and the expression:\
\>", "ExampleText",
 CellID->1711366980,ExpressionUUID->"b1457c43-9ab2-4569-bb43-1ab222ab523d"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"variables", "=", 
   RowBox[{"<|", 
    RowBox[{
     RowBox[{"\"\<indVars\>\"", "->", 
      RowBox[{"{", 
       RowBox[{"n", ",", "t"}], "}"}]}], ",", 
     RowBox[{"\"\<depVars\>\"", "->", 
      RowBox[{"{", "u", "}"}]}], ",", 
     RowBox[{"\"\<scheme\>\"", "->", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"u", "[", 
         RowBox[{"n", ",", 
          RowBox[{"t", "+", "1"}]}], "]"}], "-", " ", 
        RowBox[{"u", "[", 
         RowBox[{"n", ",", "t"}], "]"}]}], "}"}]}]}], "|>"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expression", "=", 
   RowBox[{"u", "[", 
    RowBox[{"n", ",", "t"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VariationalTimeDifferenceOperator", "[", "variables", "]"}], "[", 
  "expression", "]"}]}], "Code",
 CellLabel->"In[4]:=",
 CellID->213331820,ExpressionUUID->"3d155f36-4116-4536-afbd-fcf3adbd9596"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\[LeftAssociation]", 
   RowBox[{
    RowBox[{"\<\"exp\"\>", "\[Rule]", "0"}], ",", 
    RowBox[{"\<\"scheme\"\>", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{"u", "[", 
         RowBox[{"n", ",", "t"}], "]"}]}], "+", 
       RowBox[{"u", "[", 
        RowBox[{"n", ",", 
         RowBox[{"1", "+", "t"}]}], "]"}]}], "}"}]}]}], 
   "\[RightAssociation]"}], "}"}]], "Output",
 CellLabel->"Out[6]=",
 CellID->1953143981,ExpressionUUID->"bd72368c-1f20-4356-98ad-7f24c2960efa"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"variables", "=", 
   RowBox[{"<|", 
    RowBox[{
     RowBox[{"\"\<indVars\>\"", "->", 
      RowBox[{"{", 
       RowBox[{"n", ",", "t"}], "}"}]}], ",", 
     RowBox[{"\"\<depVars\>\"", "->", 
      RowBox[{"{", "u", "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<scheme\>\"", "->", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"u", "[", 
         RowBox[{"n", ",", 
          RowBox[{"t", "+", "1"}]}], "]"}], "+", 
        RowBox[{"u", "[", 
         RowBox[{
          RowBox[{"n", "+", "1"}], ",", 
          RowBox[{"t", "+", "1"}]}], "]"}], "-", 
        RowBox[{"2", " ", 
         RowBox[{"u", "[", 
          RowBox[{"n", ",", 
           RowBox[{"t", "+", "1"}]}], "]"}]}], "+", 
        RowBox[{"u", "[", 
         RowBox[{
          RowBox[{"n", "-", "1"}], ",", 
          RowBox[{"t", "+", "1"}]}], "]"}], "-", " ", 
        RowBox[{"u", "[", 
         RowBox[{"n", ",", "t"}], "]"}]}], "}"}]}]}], "|>"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expression", "=", 
   RowBox[{"u", "[", 
    RowBox[{"n", ",", "t"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VariationalTimeDifferenceOperator", "[", "variables", "]"}], "[", 
  "expression", "]"}]}], "Code",
 CellLabel->"In[1]:=",
 CellID->1537444449,ExpressionUUID->"5d4ca509-2cf5-4f28-b1fd-55e6c190e050"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\[LeftAssociation]", 
   RowBox[{
    RowBox[{"\<\"exp\"\>", "\[Rule]", 
     RowBox[{
      RowBox[{
       RowBox[{"-", "2"}], " ", 
       RowBox[{"KroneckerDeltaOperator", "[", "t", "]"}]}], "+", 
      RowBox[{"2", " ", 
       RowBox[{"KroneckerDeltaOperator", "[", 
        RowBox[{"1", "+", "t"}], "]"}]}]}]}], ",", 
    RowBox[{"\<\"scheme\"\>", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"u", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "1"}], "+", "n"}], ",", 
         RowBox[{"1", "+", "t"}]}], "]"}], "-", 
       RowBox[{"u", "[", 
        RowBox[{"n", ",", "t"}], "]"}], "-", 
       RowBox[{"u", "[", 
        RowBox[{"n", ",", 
         RowBox[{"1", "+", "t"}]}], "]"}], "+", 
       RowBox[{"u", "[", 
        RowBox[{
         RowBox[{"1", "+", "n"}], ",", 
         RowBox[{"1", "+", "t"}]}], "]"}]}], "}"}]}]}], 
   "\[RightAssociation]"}], "}"}]], "Output",
 CellLabel->"Out[3]=",
 CellID->1942296184,ExpressionUUID->"44ae4063-9878-44dd-9550-7cbe361faa43"]
}, Open  ]],

Cell["\<\
The operator handles parameters, here an example with the implicit transport \
equation:\
\>", "ExampleText",
 CellID->844869917,ExpressionUUID->"da84191a-0ef9-45d1-8e37-5321bd16555e"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"variables", "=", 
   RowBox[{"<|", 
    RowBox[{
     RowBox[{"\"\<indVars\>\"", "->", 
      RowBox[{"{", 
       RowBox[{"n", ",", "t"}], "}"}]}], ",", 
     RowBox[{"\"\<depVars\>\"", "->", 
      RowBox[{"{", "u", "}"}]}], ",", 
     RowBox[{"\"\<pars\>\"", "\[Rule]", 
      RowBox[{"{", "a", "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<scheme\>\"", "->", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"u", "[", 
         RowBox[{"n", ",", 
          RowBox[{"t", "+", "1"}]}], "]"}], "-", 
        RowBox[{"a", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"u", "[", 
            RowBox[{
             RowBox[{"n", "+", "1"}], ",", "t"}], "]"}], "-", " ", 
           RowBox[{"u", "[", 
            RowBox[{"n", ",", "t"}], "]"}]}], ")"}]}], "-", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"1", "-", "a"}], ")"}], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"u", "[", 
            RowBox[{"n", ",", "t"}], "]"}], "-", 
           RowBox[{"u", "[", 
            RowBox[{
             RowBox[{"n", "-", "1"}], ",", "t"}], "]"}]}], ")"}]}], "-", " ", 
        
        RowBox[{"u", "[", 
         RowBox[{"n", ",", "t"}], "]"}]}], "}"}]}]}], "|>"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expression", "=", 
   RowBox[{
    RowBox[{"u", "[", 
     RowBox[{"n", ",", "t"}], "]"}], "^", "2"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VariationalTimeDifferenceOperator", "[", "variables", "]"}], "[", 
  "expression", "]"}]}], "Code",
 CellLabel->"In[10]:=",
 CellID->1758745098,ExpressionUUID->"05e18bdb-8fe0-474b-8cc3-b476c0daeefe"],

Cell[BoxData[
 TagBox[GridBox[{
    {"\[Piecewise]", GridBox[{
       {
        RowBox[{"{", 
         RowBox[{"\[LeftAssociation]", 
          RowBox[{
           RowBox[{"\<\"exp\"\>", "\[Rule]", 
            RowBox[{
             RowBox[{"-", "4"}], " ", 
             RowBox[{"KroneckerDeltaOperator", "[", "t", "]"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"u", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "n"}], ",", "t"}], "]"}], "-", 
               RowBox[{"2", " ", 
                RowBox[{"u", "[", 
                 RowBox[{"n", ",", "t"}], "]"}]}], "+", 
               RowBox[{"u", "[", 
                RowBox[{
                 RowBox[{"1", "+", "n"}], ",", "t"}], "]"}]}], ")"}]}]}], ",", 
           RowBox[{"\<\"scheme\"\>", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"u", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "1"}], "+", "n"}], ",", "t"}], "]"}], "-", 
              RowBox[{"2", " ", 
               RowBox[{"u", "[", 
                RowBox[{"n", ",", "t"}], "]"}]}], "+", 
              RowBox[{"u", "[", 
               RowBox[{"n", ",", 
                RowBox[{"1", "+", "t"}]}], "]"}]}], "}"}]}]}], 
          "\[RightAssociation]"}], "}"}], 
        RowBox[{"a", "\[Equal]", "0"}]},
       {
        RowBox[{"{", 
         RowBox[{"\[LeftAssociation]", 
          RowBox[{
           RowBox[{"\<\"exp\"\>", "\[Rule]", "0"}], ",", 
           RowBox[{"\<\"scheme\"\>", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"u", "[", 
               RowBox[{"n", ",", 
                RowBox[{"1", "+", "t"}]}], "]"}], "-", 
              RowBox[{"u", "[", 
               RowBox[{
                RowBox[{"1", "+", "n"}], ",", "t"}], "]"}]}], "}"}]}]}], 
          "\[RightAssociation]"}], "}"}], 
        RowBox[{"a", "\[Equal]", "1"}]},
       {
        RowBox[{"{", 
         RowBox[{"\[LeftAssociation]", 
          RowBox[{
           RowBox[{"\<\"exp\"\>", "\[Rule]", 
            RowBox[{
             RowBox[{"-", 
              FractionBox["4", "9"]}], " ", 
             RowBox[{"KroneckerDeltaOperator", "[", "t", "]"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"u", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "2"}], "+", "n"}], ",", "t"}], "]"}], "-", 
               RowBox[{"u", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "n"}], ",", "t"}], "]"}], "-", 
               RowBox[{"u", "[", 
                RowBox[{
                 RowBox[{"1", "+", "n"}], ",", "t"}], "]"}], "+", 
               RowBox[{"u", "[", 
                RowBox[{
                 RowBox[{"2", "+", "n"}], ",", "t"}], "]"}]}], ")"}]}]}], ",", 
           RowBox[{"\<\"scheme\"\>", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{
              FractionBox["1", "3"], " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"u", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "1"}], "+", "n"}], ",", "t"}], "]"}], "-", 
                RowBox[{"2", " ", 
                 RowBox[{"u", "[", 
                  RowBox[{"n", ",", "t"}], "]"}]}], "+", 
                RowBox[{"3", " ", 
                 RowBox[{"u", "[", 
                  RowBox[{"n", ",", 
                   RowBox[{"1", "+", "t"}]}], "]"}]}], "-", 
                RowBox[{"2", " ", 
                 RowBox[{"u", "[", 
                  RowBox[{
                   RowBox[{"1", "+", "n"}], ",", "t"}], "]"}]}]}], ")"}]}], 
             "}"}]}]}], "\[RightAssociation]"}], "}"}], 
        RowBox[{"a", "\[Equal]", 
         FractionBox["2", "3"]}]},
       {
        RowBox[{"{", 
         RowBox[{"\[LeftAssociation]", 
          RowBox[{
           RowBox[{"\<\"exp\"\>", "\[Rule]", 
            RowBox[{
             RowBox[{"-", 
              FractionBox["1", "2"]}], " ", 
             RowBox[{"KroneckerDeltaOperator", "[", "t", "]"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"u", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "2"}], "+", "n"}], ",", "t"}], "]"}], "-", 
               RowBox[{"2", " ", 
                RowBox[{"u", "[", 
                 RowBox[{"n", ",", "t"}], "]"}]}], "+", 
               RowBox[{"u", "[", 
                RowBox[{
                 RowBox[{"2", "+", "n"}], ",", "t"}], "]"}]}], ")"}]}]}], ",", 
           RowBox[{"\<\"scheme\"\>", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{
              FractionBox["1", "2"], " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"u", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "1"}], "+", "n"}], ",", "t"}], "]"}], "-", 
                RowBox[{"2", " ", 
                 RowBox[{"u", "[", 
                  RowBox[{"n", ",", "t"}], "]"}]}], "+", 
                RowBox[{"2", " ", 
                 RowBox[{"u", "[", 
                  RowBox[{"n", ",", 
                   RowBox[{"1", "+", "t"}]}], "]"}]}], "-", 
                RowBox[{"u", "[", 
                 RowBox[{
                  RowBox[{"1", "+", "n"}], ",", "t"}], "]"}]}], ")"}]}], 
             "}"}]}]}], "\[RightAssociation]"}], "}"}], 
        RowBox[{"a", "\[Equal]", 
         FractionBox["1", "2"]}]},
       {
        RowBox[{"{", 
         RowBox[{"\[LeftAssociation]", 
          RowBox[{
           RowBox[{"\<\"exp\"\>", "\[Rule]", 
            RowBox[{"2", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "a"}], ")"}], " ", 
             RowBox[{"KroneckerDeltaOperator", "[", "t", "]"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"a", " ", 
                RowBox[{"u", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "2"}], "+", "n"}], ",", "t"}], "]"}]}], "+", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{"2", "-", 
                  RowBox[{"4", " ", "a"}]}], ")"}], " ", 
                RowBox[{"u", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "1"}], "+", "n"}], ",", "t"}], "]"}]}], "-", 
               RowBox[{"4", " ", 
                RowBox[{"u", "[", 
                 RowBox[{"n", ",", "t"}], "]"}]}], "+", 
               RowBox[{"6", " ", "a", " ", 
                RowBox[{"u", "[", 
                 RowBox[{"n", ",", "t"}], "]"}]}], "+", 
               RowBox[{"2", " ", 
                RowBox[{"u", "[", 
                 RowBox[{
                  RowBox[{"1", "+", "n"}], ",", "t"}], "]"}]}], "-", 
               RowBox[{"4", " ", "a", " ", 
                RowBox[{"u", "[", 
                 RowBox[{
                  RowBox[{"1", "+", "n"}], ",", "t"}], "]"}]}], "+", 
               RowBox[{"a", " ", 
                RowBox[{"u", "[", 
                 RowBox[{
                  RowBox[{"2", "+", "n"}], ",", "t"}], "]"}]}]}], ")"}]}]}], 
           ",", 
           RowBox[{"\<\"scheme\"\>", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"-", "1"}], "+", "a"}], ")"}], " ", 
                 RowBox[{"u", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"-", "1"}], "+", "n"}], ",", "t"}], "]"}]}], 
                ")"}]}], "+", 
              RowBox[{"2", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"-", "1"}], "+", "a"}], ")"}], " ", 
               RowBox[{"u", "[", 
                RowBox[{"n", ",", "t"}], "]"}]}], "+", 
              RowBox[{"u", "[", 
               RowBox[{"n", ",", 
                RowBox[{"1", "+", "t"}]}], "]"}], "-", 
              RowBox[{"a", " ", 
               RowBox[{"u", "[", 
                RowBox[{
                 RowBox[{"1", "+", "n"}], ",", "t"}], "]"}]}]}], "}"}]}]}], 
          "\[RightAssociation]"}], "}"}], 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "a"}], ")"}], " ", "a", " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"-", "1"}], "+", 
            RowBox[{"2", " ", "a"}]}], ")"}], " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"-", "2"}], "+", 
            RowBox[{"3", " ", "a"}]}], ")"}]}], "\[NotEqual]", "0"}]},
       {"$Failed", 
        TagBox["True",
         "PiecewiseDefault",
         AutoDelete->True]}
      },
      AllowedDimensions->{2, Automatic},
      Editable->True,
      GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}},
      GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{1.}}},
      GridBoxSpacings->{"Columns" -> {
          Offset[0.27999999999999997`], {
           Offset[0.84]}, 
          Offset[0.27999999999999997`]}, "Rows" -> {
          Offset[0.2], {
           Offset[0.4]}, 
          Offset[0.2]}},
      Selectable->True]}
   },
   GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}},
   GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{1.}}},
   GridBoxSpacings->{"Columns" -> {
       Offset[0.27999999999999997`], {
        Offset[0.35]}, 
       Offset[0.27999999999999997`]}, "Rows" -> {
       Offset[0.2], {
        Offset[0.4]}, 
       Offset[0.2]}}],
  "Piecewise",
  DeleteWithContents->True,
  Editable->False,
  SelectWithContents->True,
  Selectable->False,
  StripWrapperBoxes->True]], "Output",
 CellLabel->"Out[12]=",
 CellID->1185681870,ExpressionUUID->"49a992e8-3b84-40c2-8691-b752faa4ec44"]
}, Open  ]],

Cell["Note that arbitrary stencils are allowed for the scheme:", "ExampleText",
 CellID->863630953,ExpressionUUID->"c532cb49-0a20-4c67-9dae-29be1bce19f9"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"variables", "=", 
   RowBox[{"<|", 
    RowBox[{
     RowBox[{"\"\<indVars\>\"", "->", 
      RowBox[{"{", 
       RowBox[{"n", ",", "t"}], "}"}]}], ",", 
     RowBox[{"\"\<depVars\>\"", "->", 
      RowBox[{"{", "u", "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<scheme\>\"", "->", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"u", "[", 
         RowBox[{"n", ",", 
          RowBox[{"t", "+", "1"}]}], "]"}], "-", 
        RowBox[{"2", 
         RowBox[{"u", "[", 
          RowBox[{"n", ",", "t"}], "]"}]}], "+", 
        RowBox[{"u", "[", 
         RowBox[{"n", ",", 
          RowBox[{"t", "-", "1"}]}], "]"}]}], "}"}]}]}], "|>"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expression", "=", 
   RowBox[{
    RowBox[{"u", "[", 
     RowBox[{"n", ",", "t"}], "]"}], "-", 
    RowBox[{"u", "[", 
     RowBox[{"n", ",", 
      RowBox[{"t", "+", "1"}]}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VariationalTimeDifferenceOperator", "[", "variables", "]"}], "[", 
  "expression", "]"}]}], "Code",
 CellLabel->"In[13]:=",
 CellID->1981327326,ExpressionUUID->"e32e7645-a2c5-45ed-8531-0130184e782a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\[LeftAssociation]", 
   RowBox[{
    RowBox[{"\<\"exp\"\>", "\[Rule]", "0"}], ",", 
    RowBox[{"\<\"scheme\"\>", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"u", "[", 
        RowBox[{"n", ",", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}]}], "]"}], "-", 
       RowBox[{"2", " ", 
        RowBox[{"u", "[", 
         RowBox[{"n", ",", "t"}], "]"}]}], "+", 
       RowBox[{"u", "[", 
        RowBox[{"n", ",", 
         RowBox[{"1", "+", "t"}]}], "]"}]}], "}"}]}]}], 
   "\[RightAssociation]"}], "}"}]], "Output",
 CellLabel->"Out[15]=",
 CellID->1116518910,ExpressionUUID->"34c86cd7-3146-48c9-abb0-dbbd2478940a"]
}, Open  ]],

Cell["\<\
The same works also if a righthandside (rhs) is specified. In this case the \
time variable is not specified (see TimeDifferenceOperator for more \
information).\
\>", "ExampleText",
 CellID->46780920,ExpressionUUID->"589d6514-8e9b-4bfd-9865-bdb482da39f8"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"variables", "=", 
   RowBox[{"<|", 
    RowBox[{
     RowBox[{"\"\<indVars\>\"", "->", 
      RowBox[{"{", "n", "}"}]}], ",", 
     RowBox[{"\"\<depVars\>\"", "->", 
      RowBox[{"{", "u", "}"}]}], ",", 
     RowBox[{"\"\<rhs\>\"", "->", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"2", 
         RowBox[{"u", "[", "n", "]"}]}], "-", 
        RowBox[{"u", "[", 
         RowBox[{"n", "+", "1"}], "]"}]}], "}"}]}]}], "|>"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expression", "=", 
   RowBox[{"u", "[", "n", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VariationalTimeDifferenceOperator", "[", "variables", "]"}], "[", 
  "expression", "]"}]}], "Code",
 CellLabel->"In[16]:=",
 CellID->47346105,ExpressionUUID->"db16b54c-d082-417c-837f-d334070f8ce4"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\[LeftAssociation]", 
   RowBox[{
    RowBox[{"\<\"rhs\"\>", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"2", " ", 
        RowBox[{"u", "[", "n", "]"}]}], "-", 
       RowBox[{"u", "[", 
        RowBox[{"1", "+", "n"}], "]"}]}], "}"}]}], ",", 
    RowBox[{"\<\"exp\"\>", "\[Rule]", "0"}]}], "\[RightAssociation]"}], 
  "}"}]], "Output",
 CellLabel->"Out[18]=",
 CellID->639877517,ExpressionUUID->"f7c63058-262b-4761-be7d-93d3cf8c0a48"]
}, Open  ]],

Cell["\<\
The code also works for several dependent and independent variables, but then \
the discrete partial variational derivative is a vector with every component \
corresponding to one dependent variable:\
\>", "ExampleText",
 CellID->1413035482,ExpressionUUID->"dbbd76f5-6a59-4ab2-b0c8-7bf3ad99949c"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"variables", "=", 
   RowBox[{"<|", 
    RowBox[{
     RowBox[{"\"\<indVars\>\"", "->", 
      RowBox[{"{", 
       RowBox[{"n", ",", "m", ",", "t"}], "}"}]}], ",", 
     RowBox[{"\"\<depVars\>\"", "->", 
      RowBox[{"{", 
       RowBox[{"u", ",", "v"}], "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<scheme\>\"", "->", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"u", "[", 
          RowBox[{
           RowBox[{"n", "+", "1"}], ",", 
           RowBox[{"m", "+", "1"}], ",", 
           RowBox[{"t", "+", "1"}]}], "]"}], "-", 
         RowBox[{"u", "[", 
          RowBox[{"n", ",", "m", ",", "t"}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"v", "[", 
          RowBox[{"n", ",", "m", ",", 
           RowBox[{"t", "+", "1"}]}], "]"}], "+", 
         RowBox[{"v", "[", 
          RowBox[{"n", ",", 
           RowBox[{"m", "+", "2"}], ",", "t"}], "]"}]}]}], "}"}]}]}], 
    "\[IndentingNewLine]", "|>"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expression", "=", 
   RowBox[{
    RowBox[{"u", "[", 
     RowBox[{
      RowBox[{"n", "+", "1"}], ",", "m", ",", "t"}], "]"}], "+", 
    RowBox[{"v", "[", 
     RowBox[{"n", ",", "m", ",", "t"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"VariationalTimeDifferenceOperator", "[", "variables", "]"}], "[", 
  "expression", "]"}]}], "Code",
 CellLabel->"In[22]:=",
 CellID->2065053714,ExpressionUUID->"cebfd1f7-de4d-4e1f-915e-ff65daaa915f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\[LeftAssociation]", 
    RowBox[{
     RowBox[{"\<\"exp\"\>", "\[Rule]", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{"KroneckerDeltaOperator", "[", "t", "]"}]}], "+", 
       RowBox[{"KroneckerDeltaOperator", "[", 
        RowBox[{"1", "+", "t"}], "]"}]}]}], ",", 
     RowBox[{"\<\"scheme\"\>", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", 
          RowBox[{"u", "[", 
           RowBox[{"n", ",", "m", ",", "t"}], "]"}]}], "+", 
         RowBox[{"u", "[", 
          RowBox[{
           RowBox[{"1", "+", "n"}], ",", 
           RowBox[{"1", "+", "m"}], ",", 
           RowBox[{"1", "+", "t"}]}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"v", "[", 
          RowBox[{"n", ",", "m", ",", 
           RowBox[{"1", "+", "t"}]}], "]"}], "+", 
         RowBox[{"v", "[", 
          RowBox[{"n", ",", 
           RowBox[{"2", "+", "m"}], ",", "t"}], "]"}]}]}], "}"}]}]}], 
    "\[RightAssociation]"}], ",", 
   RowBox[{"\[LeftAssociation]", 
    RowBox[{
     RowBox[{"\<\"exp\"\>", "\[Rule]", 
      RowBox[{
       RowBox[{"-", "2"}], " ", 
       RowBox[{"KroneckerDeltaOperator", "[", "t", "]"}]}]}], ",", 
     RowBox[{"\<\"scheme\"\>", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", 
          RowBox[{"u", "[", 
           RowBox[{"n", ",", "m", ",", "t"}], "]"}]}], "+", 
         RowBox[{"u", "[", 
          RowBox[{
           RowBox[{"1", "+", "n"}], ",", 
           RowBox[{"1", "+", "m"}], ",", 
           RowBox[{"1", "+", "t"}]}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"v", "[", 
          RowBox[{"n", ",", "m", ",", 
           RowBox[{"1", "+", "t"}]}], "]"}], "+", 
         RowBox[{"v", "[", 
          RowBox[{"n", ",", 
           RowBox[{"2", "+", "m"}], ",", "t"}], "]"}]}]}], "}"}]}]}], 
    "\[RightAssociation]"}]}], "}"}]], "Output",
 CellLabel->"Out[24]=",
 CellID->1480328538,ExpressionUUID->"4632b2dd-f4ad-4191-a4aa-059bb03853e0"]
}, Open  ]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, 
  Closed]]]],

Cell[CellGroupData[{

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[ToBoxes[
    If[
     MatchQ[
      CurrentValue[
       EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"},
        Closed], 
      Alternatives[Open, True]], 
     Style[
      Graphics[{
        Thickness[0.18], 
        RGBColor[0.8509803921568627, 0.396078431372549, 0], 
        Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
       PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
      0.68 Inherited], 
     Rotate[
      Style[
       Graphics[{
         Thickness[0.18], 
         RGBColor[0.8509803921568627, 0.396078431372549, 0], 
         Line[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20], Magnification -> 
       0.68 Inherited], Rational[1, 2] Pi, {-1.65, -1}]]],
   ImageSizeCache->{14., {0.45000000000000107`, 13.549999999999999`}}]],
  ExpressionUUID->"688edf18-3507-42a5-b30b-dac7c3a87739"],
 Cell[BoxData[
  TemplateBox[{1},
   "Spacer1"]],ExpressionUUID->"752a134e-2620-484a-b6f7-f509d0613e87"],
 "Options",
 "\[NonBreakingSpace]\[NonBreakingSpace]",
 Cell["(1)", "ExampleCount",ExpressionUUID->
  "e22dfde5-64e0-45e7-9fc8-76f0928f0aad"]
}], "ExampleSection", "ExampleSection",
 WholeCellGroupOpener->True,
 CacheGraphics->False,
 CellID->2061341341,ExpressionUUID->"73ea48aa-b098-4b34-82de-a8392e70cf43"],

Cell["\<\
The same options as for TimeDifferenceOperator and ReduceModSchemeOperator \
can be specified.\
\>", "ExampleText",
 CellID->1136120654,ExpressionUUID->"0584fe65-d796-48af-9b28-88dc82fce960"]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, 
  Closed]]]]
}, Dynamic[CurrentValue[
 EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, 
  Closed]]]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedFunction.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"See", " ", "Also"}], "SeeAlsoSection"]},
      {Cell[TextData[{
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["DiscreteConservedQOperator"]], 
           "paclet:PDESymbolics2022/ref/DiscreteConservedQOperator", 
           "PDESymbolics2022 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "11ba30f0-9d17-4012-a8c5-899a52ab71f5"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["TimeDifferenceOperator"]], 
           "paclet:PDESymbolics2022/ref/TimeDifferenceOperator", 
           "PDESymbolics2022 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "8ba0ba7f-11d9-4ac2-82d2-60d14cbc6565"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["ReduceModSchemeOperator"]], 
           "paclet:PDESymbolics2022/ref/ReduceModSchemeOperator", 
           "PDESymbolics2022 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "9e3e3f40-4e96-44c1-a5cb-f6b1e15c882a"],
        "\[NonBreakingSpace]",
        StyleBox[
        "\[MediumSpace]\[FilledVerySmallSquare]\[MediumSpace]", 
         "InlineSeparator"],
        " ",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["PartialDVarDOperator"]], 
           "paclet:PDESymbolics2022/ref/PartialDVarDOperator", 
           "PDESymbolics2022 Package Symbol"},
          "PackageLink",
          BaseStyle->"InlineFormula"]], "InlineFormula",
         FontFamily->"Source Sans Pro",ExpressionUUID->
         "d0d601ce-f4c7-4835-baa2-a1166c32e432"]
       }], "SeeAlso",ExpressionUUID->"39d47957-270c-4537-93ee-ac9caa4a4062"]}
     }]}
  }]], "SeeAlsoSection",ExpressionUUID->"2fcf50c3-e2cc-423e-ad16-\
6ed1b7ea1089"],

Cell[CellGroupData[{

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {27., 33.}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "MoreAboutSection"]},
      {
       RowBox[{"\[FilledVerySmallSquare]", Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["PDESymbolics"]], 
           "paclet:PDESymbolics2022/guide/PDESymbolics"},
          "RefLinkPlain",
          BaseStyle->{"MoreAbout"}]], "MoreAbout",ExpressionUUID->
         "44b9ce88-e3f3-43ae-aaf2-a226051b2b09"]}]}
     }]}
  }]], "MoreAboutSection",ExpressionUUID->"fb375b75-1c16-430d-8e11-\
e77d644ffe7f"],

Cell[TextData[{
 Cell[BoxData[
  DynamicBox[If[CurrentValue[
      EvaluationNotebook[], {TaggingRules, "ShowCitation"}] === False, 
    TagBox[
     ButtonBox[
      FrameBox[
       RowBox[{
         DynamicBox[
          FEPrivate`FrontEndResource[
          "DocumentationExpressions", "CitationArrow"]], 
         StyleBox[
          DynamicBox[
           FEPrivate`FrontEndResource["DocumentationStrings", "CiteThisAs"]], 
          "CitationButtonText"]}]], BaseStyle -> "CiteThisAsButton"], 
     MouseAppearanceTag["LinkHand"]], 
    StyleBox[
     TemplateBox[{86, 22}, "Spacer2"]]],
   ImageSizeCache->{91., {7., 17.}}]], "CitationCell",ExpressionUUID->
  "d3cc7d7a-7221-4253-92f5-73ce98f64b22"],
 Cell[BoxData[
  TemplateBox[{8},
   "Spacer1"]],ExpressionUUID->"4d9dab66-683b-47d3-bef6-0b5c73fcebbe"],
 Cell[BoxData[
  DynamicBox[If[CurrentValue[
      EvaluationNotebook[], {TaggingRules, "ShowCitation"}] === False, 
    StyleBox[
     TemplateBox[{
       Part[
        CurrentValue[
         EvaluationNotebook[], {TaggingRules, "CitationPopupData"}], 1]}, 
      "ClickToCopy", BaseStyle -> "CitationText"], "CitationText"], 
    StyleBox[
     TemplateBox[{86, 22}, "Spacer2"]]],
   ImageSizeCache->{602., {24., 15.}}]],ExpressionUUID->
  "fdb080ae-805d-465c-9c47-eb999b4424fe"]
}], "CitationContainerCell",ExpressionUUID->"e3d00515-b249-48ea-a1de-\
9d3c7f6a7201"]
}, Open  ]],

Cell[" ", "FooterCell",ExpressionUUID->"d67acd8f-275c-4a77-8d24-b556e8132243"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"VariationalTimeDifferenceOperator",
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "HasOptions" -> True, "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, 
    "ExampleSection" -> {"0" -> Open, "1" -> Closed}, "NotesSection" -> 
    Closed}, "NewStyles" -> True, 
  "CitationPopupData" -> {
   "Wolfram Research (0), VariationalTimeDifferenceOperator, Wolfram Language \
function, \
https://reference.wolfram.com/language/PDESymbolics2022/ref/\
VariationalTimeDifferenceOperator.html.", 
    GridBox[{{
       ItemBox["", ItemSize -> "Fit"], 
       ItemBox[
        TagBox[
         ButtonBox[
          DynamicBox[
           FEPrivate`FrontEndResource[
           "DocumentationExpressions", "CitationCloseButton"]], BaseStyle -> 
          "CitationPopupCloseButton", Appearance -> None], 
         MouseAppearanceTag["LinkHand"]], Alignment -> Right]}, {
       Cell[
        TextData[{
          StyleBox["Text", "CitationFormatsLabel"], "\[LineSeparator]", 
          Cell[
           BoxData[
            StyleBox[
             StyleBox[
              TemplateBox[{
                FormBox[
                "Wolfram Research (0), VariationalTimeDifferenceOperator, \
Wolfram Language function, \
https://reference.wolfram.com/language/PDESymbolics2022/ref/\
VariationalTimeDifferenceOperator.html.", TextForm]}, "ClickToCopy", 
               BaseStyle -> "CitationText"], ShowStringCharacters -> True], 
             "CitationText"]]]}]], "\[SpanFromLeft]"}, {
       Cell[
        TextData[{
          StyleBox["CMS", "CitationFormatsLabel"], "\[LineSeparator]", 
          Cell[
           BoxData[
            StyleBox[
             StyleBox[
              TemplateBox[{
                FormBox[
                "Wolfram Language. 0. \"VariationalTimeDifferenceOperator.\" \
Wolfram Language & System Documentation Center. Wolfram Research. \
https://reference.wolfram.com/language/PDESymbolics2022/ref/\
VariationalTimeDifferenceOperator.html.", TextForm]}, "ClickToCopy", 
               BaseStyle -> "CitationText"], ShowStringCharacters -> True], 
             "CitationText"]]]}]], "\[SpanFromLeft]"}, {
       Cell[
        TextData[{
          StyleBox["APA", "CitationFormatsLabel"], "\[LineSeparator]", 
          Cell[
           BoxData[
            StyleBox[
             StyleBox[
              TemplateBox[{
                FormBox[
                "Wolfram Language. (0). VariationalTimeDifferenceOperator. \
Wolfram Language & System Documentation Center. Retrieved from \
https://reference.wolfram.com/language/PDESymbolics2022/ref/\
VariationalTimeDifferenceOperator.html", TextForm]}, "ClickToCopy", BaseStyle -> 
               "CitationText"], ShowStringCharacters -> True], 
             "CitationText"]]]}]], "\[SpanFromLeft]"}, {
       Cell[
        TextData[{
          StyleBox["BibTeX", "CitationFormatsLabel"], "\[LineSeparator]", 
          Cell[
           BoxData[
            StyleBox[
             StyleBox[
              TemplateBox[{
                FormBox[
                "@misc{reference.wolfram_2023_\
variationaltimedifferenceoperator, author=\"Wolfram Research\", \
title=\"{VariationalTimeDifferenceOperator}\", year=\"0\", \
howpublished=\"\\url{https://reference.wolfram.com/language/PDESymbolics2022/\
ref/VariationalTimeDifferenceOperator.html}\", note=\"[version 12.1]\"}", 
                 TextForm]}, "ClickToCopy", BaseStyle -> "CitationText"], 
              ShowStringCharacters -> True], "CitationText"]]]}]], 
       "\[SpanFromLeft]"}, {
       Cell[
        TextData[{
          StyleBox["BibLaTeX", "CitationFormatsLabel"], "\[LineSeparator]", 
          Cell[
           BoxData[
            StyleBox[
             StyleBox[
              TemplateBox[{
                FormBox[
                "@online{reference.wolfram_2023_\
variationaltimedifferenceoperator, organization={Wolfram Research}, \
title={VariationalTimeDifferenceOperator}, year={0}, \
url={https://reference.wolfram.com/language/PDESymbolics2022/ref/\
VariationalTimeDifferenceOperator.html}, note=\"[version 12.1]\"}", 
                 TextForm]}, "ClickToCopy", BaseStyle -> "CitationText"], 
              ShowStringCharacters -> True], "CitationText"]]]}]], 
       "\[SpanFromLeft]"}}]}, "ShowCitation" -> False, "RootCaptions" -> "", 
  "Metadata" -> {
   "built" -> "{2023, 1, 11, 10, 35, 0.441844}", 
    "history" -> {"0.0", "", "", ""}, "context" -> "PDESymbolics2022`", 
    "keywords" -> {}, "specialkeywords" -> {}, 
    "tutorialcollectionlinks" -> {}, "index" -> True, "label" -> 
    "PDE Symbolics2022 Symbol", "language" -> "en", "paclet" -> 
    "PDESymbolics2022", "status" -> "None", "summary" -> 
    "VariationalTimeDifferenceOperator[variables][expression] computes the \
discrete time-difference using TimeDifferenceOperator. Then it calculates the \
variational derivative and in case that a scheme is given reduces it again \
using ReduceModSchemeOperator and returns the resulting quantity.", 
    "synonyms" -> {}, "tabletags" -> {}, "title" -> 
    "VariationalTimeDifferenceOperator", "titlemodifier" -> "", "windowtitle" -> 
    "VariationalTimeDifferenceOperator", "type" -> "Symbol", "uri" -> 
    "PDESymbolics2022/ref/VariationalTimeDifferenceOperator"}},
CellContext->"Global`",
FrontEndVersion->"12.3 for Mac OS X x86 (64-bit) (July 9, 2021)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> "Global`"], 
   Cell[
    StyleData["Output"], CellContext -> "Global`"]}, Visible -> False, 
  FrontEndVersion -> "12.3 for Mac OS X x86 (64-bit) (July 9, 2021)", 
  StyleDefinitions -> "Default.nb"],
ExpressionUUID->"f1a3e9cf-0533-41c9-9a23-3ea58c6ecc7c"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "PrimaryExamplesSection"->{
  Cell[10091, 259, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"cbfa3296-c622-462e-a17e-829c0e7dc1f9",
   CellTags->"PrimaryExamplesSection",
   CellID->859633998]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"PrimaryExamplesSection", 49693, 1368}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[605, 21, 5776, 138, 57, "AnchorBarGrid",ExpressionUUID->"6de7fca0-d994-4047-9ac5-cd83cab1c898",
 CellID->1],
Cell[6384, 161, 99, 0, 23, "ContextNameCell",ExpressionUUID->"50e7beff-a45d-45d7-be7b-65338ef55374"],
Cell[CellGroupData[{
Cell[6508, 165, 576, 14, 60, "ObjectNameGrid",ExpressionUUID->"c9d0c4eb-a118-4110-aedd-210380417562"],
Cell[7087, 181, 710, 14, 134, "Usage",ExpressionUUID->"45848d73-031e-4cff-a35a-7bde40e1b55b",
 CellID->982511436]
}, Open  ]],
Cell[CellGroupData[{
Cell[7834, 200, 1899, 47, 37, "NotesSection",ExpressionUUID->"98cdf646-3400-4c9a-8f1a-4eeb11e47f73",
 CellGroupingRules->{"SectionGrouping", 50},
 CellID->1898121569],
Cell[9736, 249, 228, 4, 57, "Notes",ExpressionUUID->"3b9e8390-cf81-449f-b0cb-e4b8872b4cee",
 CellID->1067943069]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "NotesSection"}, Closed]]]],
Cell[CellGroupData[{
Cell[10091, 259, 1389, 37, 36, "PrimaryExamplesSection",ExpressionUUID->"cbfa3296-c622-462e-a17e-829c0e7dc1f9",
 CellTags->"PrimaryExamplesSection",
 CellID->859633998],
Cell[CellGroupData[{
Cell[11505, 300, 1368, 36, 31, "ExampleSection",ExpressionUUID->"9b6a09ad-3486-4847-83b5-73ea438108c6",
 CellID->1746111017],
Cell[12876, 338, 180, 3, 52, "Code",ExpressionUUID->"92841c7b-cc90-44fb-90ad-fae47383df7f",
 CellID->1065004805],
Cell[13059, 343, 297, 5, 57, "ExampleText",ExpressionUUID->"b1457c43-9ab2-4569-bb43-1ab222ab523d",
 CellID->1711366980],
Cell[CellGroupData[{
Cell[13381, 352, 927, 27, 87, "Code",ExpressionUUID->"3d155f36-4116-4536-afbd-fcf3adbd9596",
 CellID->213331820],
Cell[14311, 381, 552, 16, 40, "Output",ExpressionUUID->"bd72368c-1f20-4356-98ad-7f24c2960efa",
 CellID->1953143981]
}, Open  ]],
Cell[CellGroupData[{
Cell[14900, 402, 1360, 39, 104, "Code",ExpressionUUID->"5d4ca509-2cf5-4f28-b1fd-55e6c190e050",
 CellID->1537444449],
Cell[16263, 443, 1057, 31, 59, "Output",ExpressionUUID->"44ae4063-9878-44dd-9550-7cbe361faa43",
 CellID->1942296184]
}, Open  ]],
Cell[17335, 477, 194, 4, 38, "ExampleText",ExpressionUUID->"da84191a-0ef9-45d1-8e37-5321bd16555e",
 CellID->844869917],
Cell[CellGroupData[{
Cell[17554, 485, 1684, 50, 104, "Code",ExpressionUUID->"05e18bdb-8fe0-474b-8cc3-b476c0daeefe",
 CellID->1758745098],
Cell[19241, 537, 9951, 266, 287, "Output",ExpressionUUID->"49a992e8-3b84-40c2-8691-b752faa4ec44",
 CellID->1185681870]
}, Open  ]],
Cell[29207, 806, 154, 1, 70, "ExampleText",ExpressionUUID->"c532cb49-0a20-4c67-9dae-29be1bce19f9",
 CellID->863630953],
Cell[CellGroupData[{
Cell[29386, 811, 1187, 35, 70, "Code",ExpressionUUID->"e32e7645-a2c5-45ed-8531-0130184e782a",
 CellID->1981327326],
Cell[30576, 848, 686, 20, 40, "Output",ExpressionUUID->"34c86cd7-3146-48c9-abb0-dbbd2478940a",
 CellID->1116518910]
}, Open  ]],
Cell[31277, 871, 266, 5, 70, "ExampleText",ExpressionUUID->"589d6514-8e9b-4bfd-9865-bdb482da39f8",
 CellID->46780920],
Cell[CellGroupData[{
Cell[31568, 880, 830, 24, 70, "Code",ExpressionUUID->"db16b54c-d082-417c-837f-d334070f8ce4",
 CellID->47346105],
Cell[32401, 906, 493, 14, 40, "Output",ExpressionUUID->"f7c63058-262b-4761-be7d-93d3cf8c0a48",
 CellID->639877517]
}, Open  ]],
Cell[32909, 923, 306, 5, 70, "ExampleText",ExpressionUUID->"dbbd76f5-6a59-4ab2-b0c8-7bf3ad99949c",
 CellID->1413035482],
Cell[CellGroupData[{
Cell[33240, 932, 1505, 43, 70, "Code",ExpressionUUID->"cebfd1f7-de4d-4e1f-915e-ff65daaa915f",
 CellID->2065053714],
Cell[34748, 977, 2025, 58, 95, "Output",ExpressionUUID->"4632b2dd-f4ad-4191-a4aa-059bb03853e0",
 CellID->1480328538]
}, Open  ]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "0"}, Closed]]]],
Cell[CellGroupData[{
Cell[36922, 1043, 1396, 36, 70, "ExampleSection",ExpressionUUID->"73ea48aa-b098-4b34-82de-a8392e70cf43",
 CellID->2061341341],
Cell[38321, 1081, 201, 4, 70, "ExampleText",ExpressionUUID->"0584fe65-d796-48af-9b28-88dc82fce960",
 CellID->1136120654]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "ExampleSection", "1"}, Closed]]]]
}, Dynamic[CurrentValue[EvaluationNotebook[], {TaggingRules, "Openers", "PrimaryExamplesSection"}, Closed]]]],
Cell[38752, 1093, 2607, 68, 70, "SeeAlsoSection",ExpressionUUID->"2fcf50c3-e2cc-423e-ad16-6ed1b7ea1089"],
Cell[CellGroupData[{
Cell[41384, 1165, 728, 19, 70, "MoreAboutSection",ExpressionUUID->"fb375b75-1c16-430d-8e11-e77d644ffe7f"],
Cell[42115, 1186, 1383, 37, 70, "CitationContainerCell",ExpressionUUID->"e3d00515-b249-48ea-a1de-9d3c7f6a7201"]
}, Open  ]],
Cell[43513, 1226, 78, 0, 70, "FooterCell",ExpressionUUID->"d67acd8f-275c-4a77-8d24-b556e8132243"]
}
]
*)

(* End of internal cache information *)

